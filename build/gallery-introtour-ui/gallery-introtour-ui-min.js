YUI.add("gallery-introtour-ui",function(e,t){YUI.add("gallery-introtour-ui",function(e){e.namespace("Introtour");var t=function(e){var t=0,n=0;if(e.offsetParent)do t+=e.offsetLeft,n+=e.offsetTop;while(e==e.offsetParent);return[t,n]},n={cardstyle:{button:"#61399d",buttontext:"#000",title:"#fff",content:"#fff",cardborder:"#61399d"},carddimension:{height:"300px",width:"300px"},initcardpos:{marginleft:"-150px"},buttonwelcome:{content:"Start Tour",buttonid:"yui-galleryintrotourui-buttonwelcome-id"},buttontourend:{content:"Close",buttonid:"yui-galleryintrotourui-buttontourend-id"},buttonnav:{content:"Next",buttonid:"yui-galleryintrotourui-buttonnav-"}},r=function(e){if(!e)e=n.cardstyle;else{var t=n.cardstyle;e.button||(e.button=t.button),e.buttontext||(e.buttontext=t.buttontext),e.title||(e.title=t.title),e.content||(e.content=t.content),e.cardborder||(e.border=t.border)}return e},i=function(e,t,n){var r=t.buttonid,i="",s="";return e.title||(e.title=""),e.content||(e.content=""),n>0&&(r+=n),e.position==="right"?s="right":e.position==="left"?s="left":e.position==="top"?s="top":e.position==="bottom"&&(s="bottom"),s&&(i="<div class='yui-galleryintrotourui-card-arrow "+s+"'></div>"),i+="<div class='yui-galleryintrotourui-card-container'><div class='yui-galleryintrotourui-card-closebutton'>x</div><div class='yui-galleryintrotourui-clearfix'></div><div class='yui-galleryintrotourui-card-text'><div class='yui-galleyintroui-card-title'>"+e.title+"</div>"+"<div class='yui-galleryintrotourui-card-content'>"+e.content+"</div>"+"</div>"+"<div class='yui-galleryintrotourui-card-nav'>"+"<button data-seqid='"+n+"' id='"+r+"' class='yui-galleryintrotourui-card-next yui3-button notice'>"+t.content+"</button>"+"</div>"+"</div>",i},s=function(t,r,s,o,u,a){var f={},l;u?u==="welcome"?(f=n.buttonwelcome,a="welcome"):u==="end"&&(f=n.buttontourend,a="end"):f=n.buttonnav,l=i(s,f,a),node=new e.Node(document.createElement("div")),node.addClass("yui-galleryintrotourui-card"),node.setAttribute("id",o),node.setStyle("width",n.carddimension.width),node.setStyle("top",t),node.setStyle("left",r),node.set("innerHTML",l),(u==="welcome"||u==="end")&&node.setStyle("marginLeft",n.initcardpos.marginleft),e.one("body").appendChild(node)},o=function(e,t){var n=0,r=0;(e.position==="left"||e.position==="right")&&e.width==="undefined"&&(e.width=0),(e.position==="top"||e.position==="bottom")&&e.height==="undefined"&&(e.width=0),t[0]=parseInt(t[0],10),t[1]=parseInt(t[1],10),e.width=parseInt(e.width,10),e.height=parseInt(e.height,10);switch(e.position){case"right":n=t[1],r=t[0]+e.width;break;case"left":n=t[1],r=t[0]-e.width-300;break;case"top":n=t[1]-e.height,r=t[0];break;case"bottom":n=t[1]+e.height,r=t[0];break;default:n=t[1],r=t[0]+50}return t[1]=n,t[0]=r,t};e.Introtour.init=function(n,i){i=r(i),s("60px","50%",n[0],"galleryintrotourui-card-welcome","welcome",0);for(var u=1;u<n.length;u++){var a=n[u],f=document.getElementById(a.target),l;f&&(l=t(f),id="galleryintrotourui-card-"+u,l=o(a,l),l[1]=l[1]+"px",l[0]=l[0]+"px",u===n.length-2&&(u="end"),s(l[1],l[0],a,id,"",u))}s("60px","50%",n[n.length-1],"galleryintrotourui-card-endtour","end",0),window.scrollTo(0,0),e.one("#galleryintrotourui-card-welcome").setStyle("display","block"),e.on("click",function(){var t=this.getAttribute("data-seqid"),n="";e.all(".yui-galleryintrotourui-card").setStyle("display","none"),t==="welcome"?n="#galleryintrotourui-card-1":t==="end"?n="#galleryintrotourui-card-endtour":(t++,n="#galleryintrotourui-card-"+t);if(this.getAttribute("id")==="yui-galleryintrotourui-buttontourend-id")e.all(".yui-galleryintrotourui-card").setStyle("display","none");else{e.one(n).setStyle("display","block");if(t!=="end"){var r=e.one(n).getStyle("top"),i=e.one(n).getStyle("left");r=r.split("px"),i=i.split("px"),window.scrollTo(i[0],r[0])}else window.scrollTo(0,0)}},".yui-galleryintrotourui-card-next"),e.on("click",function(){window.scrollTo(0,0),e.all(".yui-galleryintrotourui-card").setStyle("display","none")},".yui-galleryintrotourui-card-closebutton"),e.one("body").on("key",function(){window.scrollTo(0,0),e.all(".yui-galleryintrotourui-card").setStyle("display","none")},"esc")}},"0.1.1",{requires:["node","event-key"]})},"@VERSION@",{use:["yui-base","yui3","node"],requires:["yui-base"]});
