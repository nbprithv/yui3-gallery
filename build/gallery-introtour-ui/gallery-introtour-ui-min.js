YUI.add("gallery-introtour-ui",function(b,a){YUI.add("gallery-introtour-ui",function(i){i.namespace("Introtour");var f=function(j){var k=curtop=0;if(j.offsetParent){do{k+=j.offsetLeft;curtop+=j.offsetTop;}while(j=j.offsetParent);}return[k,curtop];},d={"cardstyle":{"button":"#61399d","buttontext":"#000","title":"#fff","content":"#fff","cardborder":"#61399d"},"carddimension":{"height":"300px","width":"300px"},"initcardpos":{"marginleft":"-150px"},"buttonwelcome":{"content":"Start Tour","buttonid":"yui-galleryintrotourui-buttonwelcome-id"},"buttontourend":{"content":"Close","buttonid":"yui-galleryintrotourui-buttontourend-id"},"buttonnav":{"content":"Next","buttonid":"yui-galleryintrotourui-buttonnav-"}},g=function(k){if(!k){k=d.cardstyle;}else{var j=d.cardstyle;if(!k.button){k.button=j.button;}if(!k.buttontext){k.buttontext=j.buttontext;}if(!k.title){k.title=j.title;}if(!k.content){k.content=j.content;}if(!k.cardborder){k.border=j.border;}}return k;},c=function(n,m,j){var k=m.buttonid,l="",o="";if(!n.title){n.title="";}if(!n.content){n.content="";}if(j>0){k=k+j;}if(n.position==="right"){o="right";}else{if(n.position==="left"){o="left";}else{if(n.position==="top"){o="top";}else{if(n.position==="bottom"){o="bottom";}}}}if(o){l="<div class='yui-galleryintrotourui-card-arrow "+o+"'></div>";}l+="<div class='yui-galleryintrotourui-card-container'>"+"<div class='yui-galleryintrotourui-card-text'>"+"<div class='yui-galleyintroui-card-title'>"+n.title+"</div>"+"<div class='yui-galleryintrotourui-card-content'>"+n.content+"</div>"+"</div>"+"<div class='yui-galleryintrotourui-card-nav'>"+"<div data-seqid='"+j+"' id='"+k+"' class='yui-galleryintrotourui-card-next'>"+m.content+"</div>"+"</div>"+"</div>";return l;},h=function(o,p,m,q,n,j){var l={},k;if(!n){l=d.buttonnav;}else{if(n==="welcome"){l=d.buttonwelcome;j="welcome";}else{if(n==="end"){l=d.buttontourend;j="end";}}}k=c(m,l,j),node=new i.Node(document.createElement("div"));node.addClass("yui-galleryintrotourui-card");node.setAttribute("id",q);node.setStyle("width",d.carddimension.width);node.setStyle("top",o);node.setStyle("left",p);node.set("innerHTML",k);if(n==="welcome"||n==="end"){node.setStyle("marginLeft",d.initcardpos.marginleft);}i.one("body").appendChild(node);},e=function(j,m){var k=0,l=0;if((j.position==="left"||j.position==="right")&&j.width==="undefined"){j.width=0;}if((j.position==="top"||j.position==="bottom")&&j.height==="undefined"){j.width=0;}m[0]=parseInt(m[0],10);m[1]=parseInt(m[1],10);j.width=parseInt(j.width,10);j.height=parseInt(j.height,10);switch(j.position){case"right":k=m[1];l=m[0]+j.width;break;case"left":k=m[1];l=m[0]-j.width-300;break;case"top":k=m[1]-j.height;l=m[0];break;case"bottom":k=m[1]+j.height;l=m[0];break;default:k=m[1];l=m[0]+50;break;}m[1]=k;m[0]=l;return m;};i.Introtour.init=function(n,j){j=g(j);h("60px","50%",n[0],"galleryintrotourui-card-welcome","welcome",0);for(var l=1;l<n.length;l++){var k=n[l],m=document.getElementById(k.divfocus),o;if(m){o=f(m),id="galleryintrotourui-card-"+l;o=e(k,o);o[1]=o[1]+"px";o[0]=o[0]+"px";if(l===n.length-2){l="end";}h(o[1],o[0],k,id,"",l);}}h("60px","50%",n[n.length-1],"galleryintrotourui-card-endtour","end",0);window.scrollTo(0,0);i.one("#galleryintrotourui-card-welcome").setStyle("display","block");i.on("click",function(){var p=this.getAttribute("data-seqid"),s="";i.all(".yui-galleryintrotourui-card").setStyle("display","none");if(p==="welcome"){s="#galleryintrotourui-card-1";}else{if(p==="end"){s="#galleryintrotourui-card-endtour";}else{p++;s="#galleryintrotourui-card-"+p;}}if(this.getAttribute("id")==="yui-galleryintrotourui-buttontourend-id"){i.all(".yui-galleryintrotourui-card").setStyle("display","none");}else{i.one(s).setStyle("display","block");if(p!=="end"){var q=i.one(s).getStyle("top"),r=i.one(s).getStyle("left");q=q.split("px");r=r.split("px");window.scrollTo(r[0],q[0]);}else{window.scrollTo(0,0);}}},".yui-galleryintrotourui-card-next");};},"0.1.1",{requires:["node"]});},"@VERSION@",{"requires":["yui-base"]});